<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="スリープセット - 睡眠追跡と改善のためのアプリケーション">
    <meta name="theme-color" content="#3a0ca3">
    
    <title>スリープセット - 睡眠追跡アプリ</title>
    
    <!-- PWA関連 -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="images/icons/icon-192x192.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- フォント -->
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- ヘッダー -->
        <header class="app-header">
            <div class="container">
                <h1 class="app-title">スリープセット</h1>
                <nav class="main-nav">
                    <button id="nav-toggle" class="nav-toggle" aria-label="メニュー">
                        <span class="material-icons">menu</span>
                    </button>
                    <ul id="nav-menu" class="nav-menu">
                        <li><a href="#" data-page="home" class="active">ホーム</a></li>
                        <li><a href="#" data-page="record">記録</a></li>
                        <li><a href="#" data-page="stats">統計</a></li>
                        <li><a href="#" data-page="goals">目標</a></li>
                        <li><a href="#" data-page="analysis">分析</a></li>
                        <li><a href="#" data-page="sleepen">スリープン</a></li>
                    </ul>
                </nav>
            </div>
        </header>
        
        <!-- メインコンテンツ -->
        <main class="app-content">
            <!-- ホームページ -->
            <section id="home-page" class="page active">
                <div class="container">
                    <div class="card summary-card">
                        <h2>今日の睡眠</h2>
                        <div id="today-summary" class="summary-content">
                            <p class="no-data-message">今日のデータはまだありません</p>
                        </div>
                        <button id="add-sleep-btn" class="btn primary-btn">
                            <span class="material-icons">add</span>睡眠を記録
                        </button>
                    </div>
                    
                    <div class="card stats-preview-card">
                        <h2>睡眠統計</h2>
                        <div id="stats-preview" class="stats-preview-content">
                            <div class="stat-item">
                                <span class="stat-label">平均睡眠時間</span>
                                <span id="avg-duration" class="stat-value">0時間</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">睡眠負債</span>
                                <span id="sleep-debt" class="stat-value">0時間</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">平均睡眠の質</span>
                                <span id="avg-quality" class="stat-value">0★</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">睡眠効率</span>
                                <span id="sleep-efficiency" class="stat-value">0%</span>
                            </div>
                        </div>
                        <a href="#" data-page="stats" class="btn secondary-btn">詳細を見る</a>
                    </div>
                    
                    <div class="card sleepen-preview-card">
                        <h2>スリープン</h2>
                        <div id="sleepen-preview" class="sleepen-preview-content">
                            <div class="sleepen-image-container">
                                <img id="sleepen-image" src="images/sleepen/stage1.png" alt="スリープン">
                            </div>
                            <div class="sleepen-status">
                                <div class="sleepen-name-level">
                                    <span id="sleepen-name">スリープン</span>
                                    <span id="sleepen-level">Lv.1</span>
                                </div>
                                <div class="sleepen-stats">
                                    <div class="sleepen-stat">
                                        <span class="stat-label">機嫌</span>
                                        <div class="progress-bar">
                                            <div id="mood-bar" class="progress" style="width: 80%;"></div>
                                        </div>
                                    </div>
                                    <div class="sleepen-stat">
                                        <span class="stat-label">エネルギー</span>
                                        <div class="progress-bar">
                                            <div id="energy-bar" class="progress" style="width: 100%;"></div>
                                        </div>
                                    </div>
                                    <div class="sleepen-stat">
                                        <span class="stat-label">友情度</span>
                                        <div class="progress-bar">
                                            <div id="friendship-bar" class="progress" style="width: 50%;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <a href="#" data-page="sleepen" class="btn secondary-btn">スリープンと遊ぶ</a>
                    </div>
                    
                    <div class="card tip-card">
                        <h2>今日のヒント</h2>
                        <div id="daily-tip" class="tip-content">
                            <p>規則正しい睡眠スケジュールを維持することで、睡眠の質が向上します。毎日同じ時間に寝て、同じ時間に起きるようにしましょう。</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 記録ページ -->
            <section id="record-page" class="page">
                <div class="container">
                    <h2>睡眠記録</h2>
                    
                    <div class="card">
                        <div class="calendar-container" id="sleep-calendar">
                            <!-- カレンダーはJavaScriptで生成 -->
                        </div>
                    </div>
                    
                    <div class="card" id="record-form-card">
                        <h3>睡眠データを記録</h3>
                        <form id="sleep-record-form">
                            <div class="form-group">
                                <label for="record-date">日付</label>
                                <input type="date" id="record-date" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="bedtime">就寝時間</label>
                                <input type="time" id="bedtime" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="wake-time">起床時間</label>
                                <input type="time" id="wake-time" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="time-in-bed">ベッドで過ごした時間（時間）</label>
                                <input type="number" id="time-in-bed" min="0" step="0.1" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="sleep-duration">実際に眠った時間（時間）</label>
                                <input type="number" id="sleep-duration" min="0" step="0.1" required>
                            </div>
                            
                            <div class="form-group">
                                <label>睡眠の質</label>
                                <div class="rating">
                                    <input type="radio" id="star5" name="sleep-quality" value="5">
                                    <label for="star5" title="最高">★</label>
                                    <input type="radio" id="star4" name="sleep-quality" value="4">
                                    <label for="star4" title="良い">★</label>
                                    <input type="radio" id="star3" name="sleep-quality" value="3" checked>
                                    <label for="star3" title="普通">★</label>
                                    <input type="radio" id="star2" name="sleep-quality" value="2">
                                    <label for="star2" title="悪い">★</label>
                                    <input type="radio" id="star1" name="sleep-quality" value="1">
                                    <label for="star1" title="最悪">★</label>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="sleep-notes">メモ</label>
                                <textarea id="sleep-notes" rows="3"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label>チャレンジ完了</label>
                                <div class="challenges-container" id="challenges-container">
                                    <!-- チャレンジはJavaScriptで生成 -->
                                </div>
                            </div>
                            
                            <div class="form-actions">
                                <button type="submit" class="btn primary-btn">保存</button>
                                <button type="button" id="cancel-record" class="btn secondary-btn">キャンセル</button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="card" id="record-view-card" style="display: none;">
                        <h3>睡眠データ</h3>
                        <div id="record-view-content">
                            <!-- 記録の詳細はJavaScriptで生成 -->
                        </div>
                        <div class="form-actions">
                            <button type="button" id="edit-record" class="btn primary-btn">編集</button>
                            <button type="button" id="delete-record" class="btn danger-btn">削除</button>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 統計ページ -->
            <section id="stats-page" class="page">
                <div class="container">
                    <h2>睡眠統計</h2>
                    
                    <div class="card">
                        <h3>睡眠時間</h3>
                        <div class="chart-container">
                            <canvas id="duration-chart"></canvas>
                        </div>
                        <div class="stats-summary">
                            <div class="stat-item">
                                <span class="stat-label">平均睡眠時間</span>
                                <span id="stats-avg-duration" class="stat-value">0時間</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">睡眠負債</span>
                                <span id="stats-sleep-debt" class="stat-value">0時間</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>睡眠の質</h3>
                        <div class="chart-container">
                            <canvas id="quality-chart"></canvas>
                        </div>
                        <div class="stats-summary">
                            <div class="stat-item">
                                <span class="stat-label">平均睡眠の質</span>
                                <span id="stats-avg-quality" class="stat-value">0★</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>睡眠効率</h3>
                        <div class="chart-container">
                            <canvas id="efficiency-chart"></canvas>
                        </div>
                        <div class="stats-summary">
                            <div class="stat-item">
                                <span class="stat-label">平均睡眠効率</span>
                                <span id="stats-sleep-efficiency" class="stat-value">0%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>最適な睡眠パターン</h3>
                        <div id="optimal-pattern" class="optimal-pattern">
                            <p>データが不足しています。より多くの睡眠データを記録してください。</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 目標ページ -->
            <section id="goals-page" class="page">
                <div class="container">
                    <h2>睡眠目標</h2>
                    
                    <div class="card">
                        <form id="goals-form">
                            <div class="form-group">
                                <label for="goal-sleep-duration">目標睡眠時間（時間）</label>
                                <input type="number" id="goal-sleep-duration" min="4" max="12" step="0.5" value="8" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="goal-bedtime">目標就寝時間</label>
                                <input type="time" id="goal-bedtime" value="23:00" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="goal-wake-time">目標起床時間</label>
                                <input type="time" id="goal-wake-time" value="07:00" required>
                            </div>
                            
                            <div class="form-actions">
                                <button type="submit" class="btn primary-btn">保存</button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="card">
                        <h3>目標達成状況</h3>
                        <div class="goals-progress">
                            <div class="goal-progress-item">
                                <div class="goal-info">
                                    <span class="goal-label">睡眠時間</span>
                                    <span id="duration-goal-value" class="goal-value">8時間</span>
                                </div>
                                <div class="progress-bar">
                                    <div id="duration-goal-progress" class="progress" style="width: 0%;"></div>
                                </div>
                                <span id="duration-goal-percentage" class="goal-percentage">0%</span>
                            </div>
                            
                            <div class="goal-progress-item">
                                <div class="goal-info">
                                    <span class="goal-label">就寝時間</span>
                                    <span id="bedtime-goal-value" class="goal-value">23:00</span>
                                </div>
                                <div class="progress-bar">
                                    <div id="bedtime-goal-progress" class="progress" style="width: 0%;"></div>
                                </div>
                                <span id="bedtime-goal-percentage" class="goal-percentage">0%</span>
                            </div>
                            
                            <div class="goal-progress-item">
                                <div class="goal-info">
                                    <span class="goal-label">起床時間</span>
                                    <span id="wake-time-goal-value" class="goal-value">07:00</span>
                                </div>
                                <div class="progress-bar">
                                    <div id="wake-time-goal-progress" class="progress" style="width: 0%;"></div>
                                </div>
                                <span id="wake-time-goal-percentage" class="goal-percentage">0%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 分析ページ -->
            <section id="analysis-page" class="page">
                <div class="container">
                    <h2>睡眠分析</h2>
                    
                    <div class="card">
                        <h3>睡眠パターン</h3>
                        <div id="sleep-pattern-analysis" class="analysis-content">
                            <p>データが不足しています。より多くの睡眠データを記録してください。</p>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>平日 vs 週末</h3>
                        <div class="chart-container">
                            <canvas id="weekday-weekend-chart"></canvas>
                        </div>
                        <div id="weekday-weekend-analysis" class="analysis-content">
                            <p>データが不足しています。より多くの睡眠データを記録してください。</p>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>トレンド</h3>
                        <div id="trends-analysis" class="analysis-content">
                            <p>データが不足しています。より多くの睡眠データを記録してください。</p>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>影響要因</h3>
                        <div id="factors-analysis" class="analysis-content">
                            <p>データが不足しています。より多くの睡眠データを記録してください。</p>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>パーソナライズされた推奨事項</h3>
                        <div id="recommendations" class="recommendations">
                            <p>データが不足しています。より多くの睡眠データを記録してください。</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- スリープンページ -->
            <section id="sleepen-page" class="page">
                <div class="container">
                    <h2>スリープン</h2>
                    
                    <div class="card sleepen-card">
                        <div class="sleepen-main">
                            <div class="sleepen-image-container large">
                                <img id="sleepen-main-image" src="images/sleepen/stage1.png" alt="スリープン">
                            </div>
                            <div class="sleepen-info">
                                <div class="sleepen-name-container">
                                    <span id="sleepen-main-name">スリープン</span>
                                    <button id="rename-sleepen" class="btn icon-btn">
                                        <span class="material-icons">edit</span>
                                    </button>
                                </div>
                                <div class="sleepen-level-container">
                                    <span id="sleepen-main-level">Lv.1</span>
                                    <div class="exp-bar">
                                        <div id="exp-progress" class="progress" style="width: 0%;"></div>
                                    </div>
                                    <span id="exp-text">0/20</span>
                                </div>
                                <div class="sleepen-stats">
                                    <div class="sleepen-stat">
                                        <span class="stat-label">機嫌</span>
                                        <div class="progress-bar">
                                            <div id="sleepen-mood-bar" class="progress" style="width: 80%;"></div>
                                        </div>
                                        <span id="mood-text">80%</span>
                                    </div>
                                    <div class="sleepen-stat">
                                        <span class="stat-label">エネルギー</span>
                                        <div class="progress-bar">
                                            <div id="sleepen-energy-bar" class="progress" style="width: 100%;"></div>
                                        </div>
                                        <span id="energy-text">100%</span>
                                    </div>
                                    <div class="sleepen-stat">
                                        <span class="stat-label">友情度</span>
                                        <div class="progress-bar">
                                            <div id="sleepen-friendship-bar" class="progress" style="width: 50%;"></div>
                                        </div>
                                        <span id="friendship-text">50%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="sleepen-actions">
                            <button id="play-btn" class="btn action-btn">
                                <span class="material-icons">sports_esports</span>遊ぶ
                            </button>
                            <button id="rest-btn" class="btn action-btn">
                                <span class="material-icons">hotel</span>休息
                            </button>
                            <button id="adventure-btn" class="btn action-btn">
                                <span class="material-icons">explore</span>冒険
                            </button>
                            <button id="train-btn" class="btn action-btn">
                                <span class="material-icons">fitness_center</span>トレーニング
                            </button>
                        </div>
                        
                        <div id="sleepen-message" class="sleepen-message">
                            <p>こんにちは！一緒に良い睡眠習慣を作りましょう！</p>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>スキル</h3>
                        <div id="skills-container" class="skills-container">
                            <p class="no-data-message">スキルはまだありません。レベルアップすると獲得できます。</p>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>アイテム</h3>
                        <div id="items-container" class="items-container">
                            <!-- アイテムはJavaScriptで生成 -->
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>発見した場所</h3>
                        <div id="places-container" class="places-container">
                            <!-- 場所はJavaScriptで生成 -->
                        </div>
                    </div>
                </div>
            </section>
        </main>
        
        <!-- フッター -->
        <footer class="app-footer">
            <div class="container">
                <p>&copy; 2025 スリープセット</p>
                <p>
                    <button id="install-btn" class="btn small-btn">アプリをインストール</button>
                </p>
            </div>
        </footer>
        
        <!-- モーダル -->
        <div id="modal-container" class="modal-container">
            <div id="modal" class="modal">
                <div id="modal-header" class="modal-header">
                    <h3 id="modal-title">タイトル</h3>
                    <button id="modal-close" class="modal-close">
                        <span class="material-icons">close</span>
                    </button>
                </div>
                <div id="modal-content" class="modal-content">
                    <!-- モーダルの内容はJavaScriptで生成 -->
                </div>
            </div>
        </div>
        
        <!-- 通知 -->
        <div id="notification-container" class="notification-container">
            <!-- 通知はJavaScriptで生成 -->
        </div>
    </div>
    
    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/app.js"></script>
    <script src="js/sleep.js"></script>
    <script src="js/stats.js"></script>
    <script src="js/goals.js"></script>
    <script src="js/analysis.js"></script>
    <script src="js/sleepen.js"></script>
    <script src="js/sw-register.js"></script>
</body>
</html>